{"version":3,"sources":["components/Details.js","components/Calculator.js","App.js","components/util.js","index.js"],"names":["Details","data","input","items","numberWithCommas","x","toString","replace","map","e","index","housing_type","parseInt","specificItem","totalInterest","i","duration","promotion_duration","principal","promotion_rate","normal_rate","push","sort","left","right","rateType","loan_type","Segment","Grid","padded","Column","mobile","computer","Image","src","image","Header","as","bank_name","review_rating","Rating","icon","defaultRating","maxRating","disabled","review_nums","lock_in_period","Button","primary","Calculator","useState","housingType","setHousingType","setPrincipal","setDuration","stackable","Form","Field","className","id","value","type","name","step","placeholder","onClick","principalVal","document","querySelector","durationVal","querySelectorAll","classList","add","remove","App","url","options","response","setResponse","loading","setLoading","hasError","setHasError","useEffect","fetch","then","res","json","catch","useFetch","dataLoading","dataHasError","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1ea7fcb9.chunk.js","sourcesContent":["import {\n  Grid,\n  Rating,\n  Image,\n  Header,\n  Button,\n  Segment,\n} from \"semantic-ui-react\";\n\nconst Details = ({ data, input }) => {\n  let items = [];\n\n  function numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  data &&\n    data.map((e, index) => {\n      if (e.housing_type === parseInt(input.housing_type)) {\n        let specificItem = e;\n        let totalInterest = 0;\n        for (let i = 0; i < input.duration; i++) {\n          if (i < e.promotion_duration) {\n            totalInterest =\n              totalInterest + (input.principal * e.promotion_rate) / 100;\n          } else {\n            totalInterest =\n              totalInterest + (input.principal * e.normal_rate) / 100;\n          }\n        }\n        totalInterest = totalInterest + (input.principal * 1) / 100;\n        specificItem.totalInterest = totalInterest;\n        items.push(specificItem);\n      }\n    });\n\n  items.sort((left, right) => {\n    return left.totalInterest - right.totalInterest;\n  });\n\n  const renderDetails = () => {\n    return items.map((e, index) => {\n      let rateType = \"Floated\";\n      if (e.loan_type === 1) rateType = \"Fixed\";\n      else rateType = \"Floated\";\n\n      return (\n        <Segment>\n          <Grid padded>\n            <Grid.Column mobile={4} computer={2}>\n              <Image src={e.image} />\n            </Grid.Column>\n            <Grid.Column mobile={12} computer={4}>\n              <Header as=\"h2\">{e.bank_name}</Header>\n              {e.review_rating}\n              <Rating\n                icon=\"star\"\n                defaultRating={e.review_rating}\n                maxRating={5}\n                disabled\n              />{\" \"}\n              | {e.review_nums} Reviews\n            </Grid.Column>\n            <Grid.Column mobile={8} computer={4}>\n              <Header as=\"h4\">\n                1st Year Interest Rate: {e.promotion_rate}%\n              </Header>\n              <Header as=\"h4\">Lock-in Period: {e.lock_in_period} Years</Header>\n              <Header as=\"h4\">Rate Type: {rateType}</Header>\n            </Grid.Column>\n            <Grid.Column mobile={8} computer={4}>\n              <Header as=\"h1\">S${numberWithCommas(e.totalInterest / 2)}</Header>\n              Total Interest\n              <Header as=\"h2\">\n                S$\n                {numberWithCommas(\n                  parseInt(\n                    (parseInt(input.principal) + e.totalInterest / 2) /\n                      (input.duration * 12)\n                  )\n                )}\n              </Header>\n              Monthly Repayment\n            </Grid.Column>\n            <Grid.Column mobile={16} computer={2}>\n              <Button primary>Apply Now</Button>\n            </Grid.Column>\n          </Grid>\n        </Segment>\n      );\n    });\n  };\n\n  return <>{renderDetails()}</>;\n};\n\nexport default Details;\n","import { useState } from \"react\";\nimport Details from \"./Details\";\nimport { Grid, Form } from \"semantic-ui-react\";\n\nconst Calculator = ({ data }) => {\n  const [housingType, setHousingType] = useState();\n  const [principal, setPrincipal] = useState();\n  const [duration, setDuration] = useState();\n\n  const buttonClick = () => {\n    const principalVal = document.querySelector(\"#principal\").value;\n    const durationVal = document.querySelector(\"#duration\").value;\n    setHousingType(document.querySelector(\"#housingType\").value);\n    if (!principalVal && !durationVal) {\n      document.querySelectorAll(\".field\")[1].classList.add(\"error\");\n      document.querySelectorAll(\".field\")[2].classList.add(\"error\");\n      return;\n    }\n    if (!principalVal) {\n      document.querySelectorAll(\".field\")[1].classList.add(\"error\");\n      return;\n    }\n    if (!durationVal) {\n      document.querySelectorAll(\".field\")[2].classList.add(\"error\");\n      return;\n    }\n    document.querySelectorAll(\".field\")[1].classList.remove(\"error\");\n    document.querySelectorAll(\".field\")[2].classList.remove(\"error\");\n    setPrincipal(principalVal);\n    setDuration(durationVal);\n  };\n\n  return (\n    <Grid stackable padded>\n      <Grid.Column mobile={1} computer={1}></Grid.Column>\n      <Grid.Column computer={3}>\n        <Form>\n          <Form.Field>\n            <label>Type of Housing</label>\n            <select className=\"ui fluid dropdown\" id=\"housingType\">\n              <option value=\"1\">HDB</option>\n              <option value=\"2\">Private Residence</option>\n              <option value=\"3\">Commercial Property</option>\n            </select>\n          </Form.Field>\n          <Form.Field>\n            <label>Principal in SG$</label>\n            <input\n              type=\"number\"\n              name=\"principal\"\n              step=\"100\"\n              placeholder=\"SGD XXX,XXX\"\n              id=\"principal\"\n            ></input>\n          </Form.Field>\n          <Form.Field>\n            <label>Loan Duration in Years</label>\n            <input\n              type=\"number\"\n              name=\"duration\"\n              placeholder=\"number of years\"\n              id=\"duration\"\n            ></input>\n          </Form.Field>\n          <button className=\"ui button\" onClick={buttonClick}>\n            Submit\n          </button>\n        </Form>\n      </Grid.Column>\n\n      <Grid.Column computer={11}>\n        <Details\n          data={data}\n          input={{\n            housing_type: housingType,\n            principal: principal,\n            duration: duration,\n          }}\n        />\n      </Grid.Column>\n    </Grid>\n  );\n};\n\nexport default Calculator;\n","import \"./App.css\";\nimport { useFetch } from \"./components/util\";\nimport Calculator from \"./components/Calculator\";\n\nfunction App() {\n  const [data, dataLoading, dataHasError] = useFetch(\"models/MOCK_DATA.json\");\n\n  return (\n    <>\n      {dataLoading ? (\n        <div>Loading...</div>\n      ) : dataHasError ? (\n        <div>Error Load Occured</div>\n      ) : (\n        <div>\n          <Calculator data={data} />\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import { useState, useEffect } from \"react\";\n\nexport const useFetch = (url, options) => {\n  const [response, setResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(url, options)\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        setResponse(data);\n        setLoading(false);\n      })\n      .catch(() => {\n        setHasError(true);\n        setLoading(false);\n      });\n  }, [url]);\n\n  return [response, loading, hasError];\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"semantic-ui-css/semantic.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}